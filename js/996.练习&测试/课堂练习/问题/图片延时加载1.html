<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        *{
            margin:0;
            padding:0;
        }
        body{
            height: 2000px;;
        }
        p{
            margin:1000px auto;
            /*position: absolute;*/
            /*top: 1000px;;*/
            width: 400px;
            height: 200px;
            background: url("../../../997.课件/正式课第三周/第一天/img2/default.gif") no-repeat center #ccc;
        }
        img{
            width: 400px;
            height: 200px;
        }
    </style>
</head>
<body>
<p><img src="" realImg="../997.课件/正式课第三周/第一天/img2/1.jpg" alt=""></p>
<p><img src="" realImg="../997.课件/正式课第三周/第一天/img2/2.jpg" alt=""></p>
<p><img src="" realImg="../997.课件/正式课第三周/第一天/img2/3.jpg" alt=""></p>
<p><img src="" realImg="../997.课件/正式课第三周/第一天/img2/4.jpg" alt=""></p>
<script src="../../../1.封装的代码/myUtils.js"></script>
<script>
    var aP=document.getElementsByTagName('p');
    var aImg=document.getElementsByTagName('img');
window.onscroll=function(){
    var scrollBottom=utils.win('scrollTop')+utils.win('clientHeight');
    for(var i=0;i<aImg.length;i++){
        if(utils.offset(aImg[i]).top+utils.getCss(aImg[i],'height')<=scrollBottom){
            lazyImg(aImg[i]);

        }
    }
}

    function lazyImg(aImg){
        if(aImg.loaded) return;
        var tmpImg=new Image;
        tmpImg.src=aImg.getAttribute('realImg');
        tmpImg.onload=function(){
            aImg.src=this.src;
            aImg.loaded=true;
            tmpImg=null;
        }
        tmpImg.error=function(){
            aImg.parentNode.style.background='url("../997.课件/正式课第三周/第一天/img2/error.gif")   no-repeat center #ccc';
            aImg.loaded=true;
            tmpImg=null;
        }


    }
</script>
</body>
</html>